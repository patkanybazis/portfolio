/* ===== LOADER (copy-paste ready) ===== */

/* Fullscreen loader overlay, always centered */
#loader {
  position: fixed;
  inset: 0;
  background: #171123; /* purple */
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

/* The centered anchor box, stars + logo position relative to this */
.loader-stage {
  position: relative;
  width: 220px; /* adjust if you want a bigger/smaller composition */
  height: 220px;
}

/* Logo always dead-center */
.loader-logo {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 500px; /* resize logo here */
  height: auto;
  transform: translate(-50%, -50%);
  z-index: 2;
  opacity: 0;
  transition: opacity 600ms ease, transform 600ms ease;
}

/* Stars start centered (then each star gets its own offset) */
.loader-star {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 18px; /* resize stars here */
  height: 18px;
  transform: translate(-50%, -50%);
  z-index: 3;
  opacity: 0;
  transition: opacity 700ms ease, transform 900ms ease;
  will-change: transform, opacity;
}

/* Individual star offsets (tweak these numbers to move them around) */
.star-1 {
  transform: translate(-50%, -50%) translate(-178px, 5px) scale(0);
}

.star-2 {
  transform: translate(-50%, -50%) translate(115px, -1px) scale(0.5);
}

/* ===== SEQUENCE CLASSES (your JS toggles these) ===== */

/* Phase 1: show logo + stars */
#loader.is-intro .loader-logo {
  opacity: 1;
  transform: translate(-50%, -50%) scale(1);
}

#loader.is-intro .loader-star {
  opacity: 1;
}

/* Phase 2: stars expand to fill viewport */
#loader.is-expand .star-1 {
  transform: translate(-50%, -50%) translate(-30px, -20px) scale(450);
  transition: transform 2600ms cubic-bezier(0.2, 0.8, 0.2, 1);
}

#loader.is-expand .star-2 {
  transform: translate(-50%, -50%) translate(35px, 15px) scale(450);
  transition: transform 2600ms cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* Phase 3: flash background (optional) */
#loader.is-flash {
  background: #f5edf9; /* light cream/white */
}

/* Optional: fade logo during flash */
#loader.is-flash .loader-logo {
  opacity: 0;
  transform: translate(-50%, -50%) scale(0.98);
}

/* ===== EXIT (landing becomes visible) ===== */
body.loaded #loader {
  opacity: 0;
  pointer-events: none;
  transition: opacity 600ms ease;
}

/* Accessibility: reduce motion */
@media (prefers-reduced-motion: reduce) {
  .loader-logo,
  .loader-star,
  body.loaded #loader {
    transition: none !important;
  }

  #loader {
    background: #f5edf9;
  }
}
